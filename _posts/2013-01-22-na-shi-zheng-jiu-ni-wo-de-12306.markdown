---
layout: post
status: publish
published: true
title: 拿什么拯救你，我的12306？
author:
  display_name: MForever78
  login: MForever
  email: shunjian1128@gmail.com
  url: ''
author_login: MForever
author_email: shunjian1128@gmail.com
wordpress_id: 579
wordpress_url: http://www.mforever78.com/blog/?p=579
date: '2013-01-22 21:33:36 +0800'
date_gmt: '2013-01-22 13:33:36 +0800'
categories:
- 时
tags: []
comments:
- id: 412
  author: icy
  author_email: withguohao@gmail.com
  author_url: http://icylogic.net
  date: '2013-12-27 02:22:32 +0800'
  date_gmt: '2013-12-26 18:22:32 +0800'
  content: "因为没人关注真相。\r\n\r\n双十一压力应该不比这个差，大量的图片（这铁道部根本没有），复杂的订单和商品（铁道部就一种商品），商家快递买家三方系统，还有支付宝这个中轴。。。能解决实在是阿里技术太牛，人太多，钱也太多。\r\n\r\n铁道部这个确实需要有临时服务器之类的解决方案，峰值和平均值差太多，买够的话没那么多钱，具体技术应该外包，三亿肯定不止就是了。"
---

<p>前几天和人聊天，他抱怨铁道部客票系统，说政府花了3个亿，就办出个这样的东西来。不用问，肯定在吐槽前不久12306因为机房空调坏掉而暂停运行的事件。后来越说越激动，说页面设计得多么丑，人一多就瘫痪，还花了两个亿，这钱一定是被谁吃了。我解释，花那么多钱搞出的这个东西确实是有问题，但也要考虑客观因素。比如高峰期日访问IP400W，PV1000W，服务器确实吃力。他说，那天猫双十一时候人不比这多啊，人家不照样运行得妥妥的。我说，那性质不一样，客票系统复杂得多，一个请求要多次查询数据库，车次，座位分配等等，关键还要实时和数据库同步，和其他订票系统协调才行。而如此大的需求量，对软硬件都有极变态的需求。百度阿里有十多年的软件经验和硬件基础，这个也比不了。其次12306是公开招标，太极科技中标，而且提供的都是价格几乎透明的硬件设备，我不觉得有什么问题。我总体上还是理解它的。</p>
<p>和你一样，他也听不下去了。他说，反正肯定有问题，一定有黑幕。</p>
<p>一旦出现「反正」这种字眼，讨论即告结束。</p>
<p>我不是在记录一个五毛的胜利。12306的这些问题我可能比更多人先注意到，但我没有就丢下一句「XXXX」而离开。我去查了12306当年招标的信息。出乎我意料的是，只有中标信息而没有公开招标的信息，而且铁道部还拒绝了一位律师关于公开这些信息的请求，两方正在打官司。这下看起来一切似乎很好解释了，是这样的么？</p>
<p>人们的不满主要集中在几个方面。一一来说。</p>
<p><strong>一个网站而已，为何要那么多钱？</strong></p>
<p>有些人惊呼，我靠一个网站你们就花了纳税人3.3个亿，你们拿这些钱干什么了？首先我想说，要建设一个完善的在线购票系统，这些钱不但不多，甚至是远远不够的。有些人听一些 so-called 程序员在网上叫嚣，就这样一个网站，最多3000W，而且我可以做得更好。这完全是一种不负责任的说法，你可以针对它所用的技术进行质疑（这点下文详细说），但这样无凭无据夸下海口只能说明你的不成熟，甚者，居心不良。3.3亿的中标金额全部给了两家硬件提供商，而从出现的问题来看，硬件方面并没有问题。而软件方面，铁道部砍掉IBM和易程科技的方案，选择了隶属于自己的铁科院。</p>
<p>把焦点转向软件后，新的质疑又出现了。为什么IBM的成熟方案没有中标？而已经做出成绩的易程科技（铁道部使用该公司的自动售票系统）还有清华大学Web与软件技术研究中心（这是国内海量事务高速处理方面研究的佼佼者）的方案为何输给了铁科院（无任何可查到的优势）？</p>
<p>IBM没有中标的原因是多方面的。首先铁路运输系统作为有关国计民生的命门，使用外国公司的技术，不放心。先不要嘲笑这种观点。美国众议院在经过一年的讨论，决定阻止华为和中兴在美国的扩张，建议企业停止使用两家中国公司的设备；中国许多省级地区电信公司逐渐弃用美国思科的设备。都是基于这样的考量。在铁道部这次招标上，不管占多大比例，这样的顾虑应该是存在的。而更重要的原因是，IBM给出的解决方案实在是太！贵！了！3亿你都舍不得，IBM给出的价格甚至超出了清华大学专家团的心理上界，而且是一口价不打折还不包邮（即，不提供硬件设备）！这样来看，现在一些观点说「要是当初用了IBM就……」更多恐怕是对现在12306的糟糕表现的不满罢了，这根本就是一个伪命题。「要是当初」解决不了任何问题。</p>
<p>易程科技和清华大学研究中心与铁科院竞标，这个相对就没有那么多考虑的因素了。在一些报道中，清华大学Web与软件技术研究中心的负责人还有些撒娇地向记者抱怨。甲方招标，中标的是甲方自己的公司，其他乙方除了骂娘还有什么好说的呢？我把这个解释作「中国特色」。（那位正在打官司的律师也是主要针对这里的不正当竞争）</p>
<p>12306上线不长时间后即多次瘫痪，来自民意的压力使得铁道部不能不捉急。后续又多次投资进行软件建设。现在已经陆续扔钱10-20亿。在我看来，这还远远不够。IBM为何敢报出那个惊人的数字，是有道理的。</p>
<p><strong>为什么表现那么差？</strong></p>
<p>既然上文说明了软件解决方案的中标者，这个问题就很好解释了。一句话就是，真的是实力不行。一没经验二没强大的技术支持。</p>
<p>上面也说到了，在巅峰时期对这个系统的需求是极其巨大的。软件解决不了的时候就只能靠硬件拼。这实在是下下策，极大浪费了硬件资源，出力不讨好。</p>
<p>这里要再次强调，在线订票系统属于海量事务高速处理系统，这和淘宝等电商是不同的。国内在这方面大部分是空白。换一个角度说，阿里等电商已经投资不止百亿。无论怎样，拿12306和淘宝去比，是不科学的。</p>
<p>这个没有经验的公司，甚至没有做好最基本的安全策略。第一，这样涉及个人信息的系统，信息传输居然是明文。也就是说，黑客们完全有能力拦截到这些数据，不废任何力气就得到了你的身份证号，手机号等等。第二，网站居然还在使用http，而不是https。在现在几乎所有的邮箱都使用https加密的时代，这种做法是不能理解的。第三，用户unfriendly，界面还是上个时代产品的样子。有些人说这叫「工程师气息」，省省吧。</p>
<p>至于前段出现的机房空调事件，没什么好说的，狠狠吐槽就是。</p>
<p><strong>网上订票，我为什么还是买不到票？</strong></p>
<p>登陆不上就不说了，页面好容易承受住了巨大流量，可在放票后10秒中内，票就卖光了。</p>
<p>如果你在抱怨这个，我建议你使用各种抢票插件。这不是一个网络购票系统就能解决的，涉及区域发展不平衡等很多问题。要解决这个，还有很长、很长的路要走。</p>
<p><HR></p>
<p>在这个事件中，任何一个能正常思考的人都不会满意铁道部的做法。我说说自己看到的东西。</p>
<p>到现在，还不能说铁道部的招标确实有问题，但这绝不代表它就是清白的。不要作出一副无辜的样子。招标信息为何不公开？作为政府部门，不能要求人们以善意揣测自己，反而应当每时每刻作好应付最坏的猜疑。阳光是最好的防腐剂，我愿意相信你是清白的，但你要证明给我看。我们的政府这方面意识薄弱。我认为最根本的原因就是在他们眼中「人民是国家的主人」根本就是一句屁话。官员由上层任命，对上层负责，管理人民。主子干什么事情还要向奴才们汇报么？这种思想不清除，阳光，透明也怕只能流于表面。</p>
<p>到这里，我的话就说清楚了。不是不要质疑，而是要有根据。你的抱怨作为民意的体现，有积极的意义。但无端的揣测不可取。我最支持那位律师的做法，有问题，抱怨之后，去督促改正。如今的中国，这很难，但总要有人做，也总会有人做。我们还没到悲观的年纪，你我都去积极一点，这个社会才有希望。</p>

